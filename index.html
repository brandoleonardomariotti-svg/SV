<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>San Valentino ğŸ’–</title>
<style>
  body {
    margin:0;
    padding:0;
    font-family: 'Arial', sans-serif;
    color:white;
    text-align:center;
    overflow:hidden;
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
  }

  .page {
    position:absolute;
    width:100%;
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    transition: opacity 1s ease;
  }

  .hidden { opacity:0; pointer-events:none; }

  h1 { margin-bottom:20px; }

  #heart {
    font-size:60px;
    cursor:pointer;
    animation: pulse 1s infinite;
  }

  @keyframes pulse {
    0%{transform:scale(1);}
    50%{transform:scale(1.2);}
    100%{transform:scale(1);}
  }

  #message { font-size:18px; margin-bottom:25px; min-height:28px; }

  button {
    font-size:18px;
    padding:12px 25px;
    margin:8px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    transition:all 0.3s ease;
  }

  #yes { background:#fff; color:#ff4d6d; }
  #no { background:#ff4d6d; color:white; position:absolute; }
  .option { background:#fff; color:#ff4d6d; display:block; margin:10px auto; }

  /* cuoricini animati */
  .floating-heart {
    position:absolute;
    font-size:24px;
    animation: floatUp 3s linear forwards;
    pointer-events:none;
  }

  @keyframes floatUp {
    0%{transform:translateY(0) scale(1);}
    100%{transform:translateY(-300px) scale(1.5); opacity:0;}
  }
</style>
</head>
<body>

<!-- Musica romantica -->
<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7c8a3e3b9b.mp3?filename=romantic-piano-112191.mp3" type="audio/mpeg">
</audio>

<!-- Pagina iniziale -->
<div id="startPage" class="page">
  <h1>Sofia, ho una domanda per te...</h1>
  <div id="heart">â¤ï¸</div>
</div>

<!-- Pagina principale -->
<div id="mainPage" class="page hidden">
  <div class="box" id="content">
    <h1>Vuoi essere la mia Valentina? ğŸ’˜</h1>
    <div id="message"></div>
    <button id="yes">SÃŒ ğŸ’–</button>
    <button id="no">NO ğŸ˜…</button>
  </div>
</div>

<script>
const startPage = document.getElementById("startPage");
const mainPage = document.getElementById("mainPage");
const heart = document.getElementById("heart");

heart.addEventListener("click", () => {
  startPage.classList.add("hidden");
  mainPage.classList.remove("hidden");
});

// Main page elements
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const message = document.getElementById("message");
const content = document.getElementById("content");
const music = document.getElementById("music");

const phrases = [
  "Questo NO non ti rappresenta ğŸ˜",
  "Dai, sappiamo entrambi la risposta â¤ï¸",
  "Prometto che sarÃ  un bel momento âœ¨",
  "Ultimo tentativo prima del SÃŒ ğŸ˜‡",
  "Ok basta, clicca quello giusto ğŸ’–",
  "Sicura? Io ho giÃ  scelto ğŸ˜Œ"
];

let index = 0;

// NO button scappa e cambia frase
noBtn.addEventListener("mouseover", () => {
  message.textContent = phrases[index % phrases.length];
  index++;

  const x = Math.random() * (window.innerWidth - 120);
  const y = Math.random() * (window.innerHeight - 120);
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";

  yesBtn.style.transform = `scale(${1 + index*0.08})`;
});

// YES button
yesBtn.addEventListener("click", () => {
  // vibrazione
  if (navigator.vibrate) navigator.vibrate([200,100,200]);
  // musica
  music.play();
  // cuoricini animati
  createHearts();

  content.innerHTML = `
    <h1>Perfetto ğŸ˜</h1>
    <p>Allora scegli cosa facciamo per la serata âœ¨</p>
    <button class="option">ğŸ Cena romantica</button>
    <button class="option">ğŸ• Pizza + film</button>
    <button class="option">ğŸ· Uscita a sorpresa</button>
    <button class="option">ğŸ  Serata cozy insieme</button>
  `;

  document.querySelectorAll(".option").forEach(btn => {
    btn.addEventListener("click", () => {
      // dissolvenza romantica
      content.style.transition = "opacity 2s ease";
      content.style.opacity = 0;
      setTimeout(() => {
        content.innerHTML = `
          <h1>Grazie per la scelta â¤ï¸</h1>
          <p>Comunque io ho giÃ  deciso ğŸ˜Œ</p>
          <p style=\"margin-top:30px; font-style:italic;\">il tuo Brirbi ğŸ’–</p>
        `;
        content.style.opacity = 1;
      }, 2000);
    });
  });
});

// Funzione per creare cuoricini animati
function createHearts(){
  for(let i=0;i<20;i++){
    const h = document.createElement("div");
    h.textContent = "â¤ï¸";
    h.className = "floating-heart";
    h.style.left = Math.random()*window.innerWidth + "px";
    h.style.fontSize = (16+Math.random()*20) + "px";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 3000);
  }
}
</script>

</body>
</html>